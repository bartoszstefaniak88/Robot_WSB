#user container-based infrastructure
os: linux
sudo: required
addons:
  chrome: stable
before_install:
  - wget https://chromedriver.storage.googleapis.com/75.0.3770.90/chromedriver_linux64.zip
  - unzip chromedriver_linux64.zip
  - sudo mv chromedriver /usr/bin/

# install dependencies
install: "pip install -r requirements.txt"
language: python
python:
  - "3.7"
script:
 - robot RedHat_Robot.robot
 - bin/sphinx-build -b html docs/source target/doc/build
after_script:
 - curl --upload-file ./log.html https://transfer.sh/log.html
 - curl --upload-file ./report.html https://transfer.sh/report.html